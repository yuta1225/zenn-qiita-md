---
title: Pythonチュートリアル
tags:
  - Python
private: false
updated_at: '2025-07-19T19:44:22+09:00'
id: 05914eb7b4e2076d345a
organization_url_name: null
slide: false
ignorePublish: false
---
# はじめに
この記事では"Python チュートリアル第三版"において、私が個人的に分からなかったところや覚えておくべきだと感じた用語などを徒然なるままにメモしていきます。
単なるメモです。
ちなみに、pyothonの試験には3年目ぐらいに合格してました。

## 疑問
・lambda
・docstring
・関数アノテーション

## 4.2　for文

コレクションオブジェクトの値を反復処理をしているときに、そのコレクションオブジェクトを変更するコードは理解するのが面倒になり得ます。 そうするよりも、コレクションオブジェクトのコピーに対して反復処理をするか、新しいコレクションオブジェクトを作成する方が通常は理解しやすいです

```python
# Strategy:  Iterate over a copy
for user, status in users.copy().items():
    if status == 'inactive':
        del users[user]

# Strategy:  Create a new collection
active_users = {}
for user, status in users.items():
    if status == 'active':
        active_users[user] = status
```

疑問
・コレクションオブジェクトって何？


## 4.4　break 文と continue 文とループの else 節
break 文は、C 言語と同じく、最も内側の for または while ループを中断します。

ループ文は else 節を持つことができます。これは、 (for で) イテラブルを使い切ってループが終了したとき、または (while で) 条件が偽になったときに実行されますが、 break 文でループが終了したときは実行されません。この動作を、素数を探す下記のループを例にとって示します:

```py
>>> for n in range(2, 10):
...     for x in range(2, n):
...         if n % x == 0:
...             print(n, 'equals', x, '*', n//x)
...             break
...     else:
...         # loop fell through without finding a factor
...         print(n, 'is a prime number')
...
2 is a prime number
3 is a prime number
4 equals 2 * 2
5 is a prime number
6 equals 2 * 3
7 is a prime number
8 equals 2 * 4
9 equals 3 * 3
```
✳︎最初の n=2 の時にrangeは(2, 2)なので、そもそもfor文が動かない。

ループの else 句は、 if 文の else よりも try 文の else に似ています。 try 文の else 句は例外が発生しなかった時に実行され、ループの else 句は break されなかった場合に実行されます。 

## 4.6 関数を定義する
関数の中で代入した変数は、すべて ローカル変数 となります。
ローカル変数以外の、関数の外部で代入された変数は、すべてグローバル変数になります。

モジュールやシンボルテーブルについて
https://www.secat-blog.net/wordpress/learn-module-basic-python_tutorial_ver3_chapter6/

・4.6の後半部分の説明が分からない


## 5.1.3　リストの内包表記

```terminal
>>> vec = [-4, -2, 0, 2, 4]
>>> # create a new list with the values doubled
>>> [x*2 for x in vec]
[-8, -4, 0, 4, 8]
>>> # filter the list to exclude negative numbers
>>> [x for x in vec if x >= 0]
[0, 2, 4]
>>> # apply a function to all the elements
>>> [abs(x) for x in vec]
[4, 2, 0, 2, 4]
>>> # call a method on each element
>>> freshfruit = ['  banana', '  loganberry ', 'passion fruit  ']
>>> [weapon.strip() for weapon in freshfruit]
['banana', 'loganberry', 'passion fruit']
>>> # create a list of 2-tuples like (number, square)
>>> [(x, x**2) for x in range(6)]
[(0, 0), (1, 1), (2, 4), (3, 9), (4, 16), (5, 25)]
>>> # the tuple must be parenthesized, otherwise an error is raised
>>> [x, x**2 for x in range(6)]
  File "<stdin>", line 1, in <module>
    [x, x**2 for x in range(6)]
               ^
SyntaxError: invalid syntax
>>> # flatten a list using a listcomp with two 'for'
>>> vec = [[1,2,3], [4,5,6], [7,8,9]]
>>> [num for elem in vec for num in elem]
[1, 2, 3, 4, 5, 6, 7, 8, 9]

```

疑問
・abs()が何したか
・strip()の意義

## 5.1.4　ネストしたリストの内包表記

```terminal
>>> list(zip(*matrix))
[(1, 5, 9), (2, 6, 10), (3, 7, 11), (4, 8, 12)]
```

変数の数が要素の数よりも少ない場合、変数名にアスタリスク*をつけると、要素がリストとしてまとめて代入される。

疑問
・zip関数

## 5.3 タプルとシーケンス
ネスト＝内包表記
シーケンス＝オブジェクトを順番（シーケンシャル）に処理するためのデータ構造です。 基本的なシーケンス型は、リスト 、タプル、rangeオブジェクトの３つです。


## 5.4　集合型

```terminal
>>> basket = {'apple', 'orange', 'apple', 'pear', 'orange', 'banana'}
>>> print(basket)                      # show that duplicates have been removed
{'orange', 'banana', 'pear', 'apple'}
>>> 'orange' in basket                 # fast membership testing
True
>>> 'crabgrass' in basket
False

>>> # Demonstrate set operations on unique letters from two words
...
>>> a = set('abracadabra')
>>> b = set('alacazam')
>>> a                                  # unique letters in a
{'a', 'r', 'b', 'c', 'd'}
>>> a - b                              # letters in a but not in b
{'r', 'd', 'b'}
>>> a | b                              # letters in a or b or both
{'a', 'c', 'r', 'd', 'b', 'm', 'z', 'l'}
>>> a & b                              # letters in both a and b
{'a', 'c'}
>>> a ^ b                              # letters in a or b but not both
{'r', 'd', 'b', 'm', 'z', 'l'}
```

## 5.6　ループのテクニック

```terminal
>>> import math
>>> raw_data = [56.2, float('NaN'), 51.7, 55.3, 52.5, float('NaN'), 47.8]
>>> filtered_data = []
>>> for value in raw_data:
...     if not math.isnan(value):
...         filtered_data.append(value)
...
>>> filtered_data
[56.2, 51.7, 55.3, 52.5, 47.8]
```

## 6.1.1　モジュールをスクリプトとして実行する

Python モジュールを

```terminal
python fibo.py <arguments>
```

と実行すると、__name__ に __main__ が設定されている点を除いて import したときと同じようにモジュール内のコードが実行されます。つまりモジュールの末尾に:

```terminal
if __name__ == "__main__":
    import sys
    fib(int(sys.argv[1]))
```


このコードを追加することで、このファイルが import できるモジュールであると同時にスクリプトとしても使えるようになります。なぜならモジュールが "main" ファイルとして起動されたときだけ、コマンドラインを解釈するコードが実行されるからです:

```terminal
$ python fibo.py 50
0 1 1 2 3 5 8 13 21 34
```

モジュールが import された場合は、そのコードは実行されません:

```terminal
>>>
>>> import fibo
>>>
```

この方法はモジュールに便利なユーザインターフェースを提供したり、テストのために (スクリプトをモジュールとして起動しテストスイートを実行して) 使われます。








